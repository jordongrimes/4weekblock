<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFT Training Log - Block 1</title>
    <style>
        :root {
            --primary-bg: #f4f7f6;
            --secondary-bg: #ffffff;
            --text-color: #333;
            --accent-color-am: #0056b3;
            --accent-color-pm: #28a745;
            --accent-color-opt: #6f42c1;
            --border-color: #e0e0e0;
            --header-bg: #212529;
            --header-text: #ffffff;
            --danger-color: #dc3545;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            background-color: var(--primary-bg);
            color: var(--text-color);
        }
        .container { max-width: 800px; margin: 0 auto; padding: 15px; }
        header { background-color: var(--header-bg); color: var(--header-text); padding: 1rem; text-align: center; border-radius: 8px; margin-bottom: 20px; }
        header h1 { margin: 0; font-size: 1.8rem; }
        header p { margin: 0.5rem 0 0; font-style: italic; }
        .info-box { background-color: #e9ecef; border-left: 5px solid var(--accent-color-am); padding: 10px 15px; margin-bottom: 20px; border-radius: 5px; }
        .week-section { margin-bottom: 25px; }
        .week-title { font-size: 1.5rem; color: var(--header-bg); border-bottom: 2px solid var(--header-bg); padding-bottom: 5px; margin-bottom: 15px; }
        .day-container { background-color: var(--secondary-bg); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 15px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .day-toggle { padding: 15px; background-color: #f8f9fa; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 1.2rem; font-weight: 600; border-bottom: 1px solid var(--border-color); }
        .day-toggle::after { content: '+'; font-size: 1.5rem; color: #888; transition: transform 0.2s; }
        .day-container.active .day-toggle::after { transform: rotate(45deg); }
        .day-content { padding: 0 15px; max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out, padding 0.4s ease-out; }
        .day-container.active .day-content { padding: 15px; }
        .session { margin-bottom: 20px; }
        .session-title { font-size: 1.2rem; font-weight: 600; padding-bottom: 5px; margin-bottom: 15px; }
        .session-title.am { border-bottom: 2px solid var(--accent-color-am); color: var(--accent-color-am); }
        .session-title.pm { border-bottom: 2px solid var(--accent-color-pm); color: var(--accent-color-pm); }
        .session-title.opt { border-bottom: 2px solid var(--accent-color-opt); color: var(--accent-color-opt); }
        h5 { font-size: 1rem; margin-bottom: 5px; font-weight: bold; color: #555; }
        p, ul { margin-top: 0; margin-bottom: 10px; }
        ul { padding-left: 20px; }
        li { margin-bottom: 5px; }
        strong { color: var(--header-bg); }
        .workout-component { border-left: 4px solid var(--border-color); padding: 10px 15px; margin-bottom: 15px; background-color: #fdfdfd; border-radius: 0 5px 5px 0; }
        .workout-component strong { font-weight: 600; }
        .session.am .workout-component { border-left-color: var(--accent-color-am); }
        .session.pm .workout-component { border-left-color: var(--accent-color-pm); }
        .session.opt .workout-component { border-left-color: var(--accent-color-opt); }
        .log-section { margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px; border: 1px solid #e9ecef; }
        .log-section label { display: block; font-weight: 600; margin-bottom: 5px; color: #343a40; }
        .log-section textarea { width: 100%; padding: 8px; border-radius: 4px; border: 1px solid var(--border-color); font-family: inherit; font-size: 0.95rem; box-sizing: border-box; }
        .clear-btn { background-color: var(--danger-color); color: white; border: none; padding: 10px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; display: block; width: 100%; text-align: center; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>AFT Training Log: Block 1</h1>
            <p>Foundation & Skill Acquisition (Weeks 1-4)</p>
        </header>

        <div class="info-box">
            <p><strong>Note:</strong> Your logged results are saved automatically to this browser on this device. They will not sync to other devices.</p>
        </div>

        <button class="clear-btn" id="clear-all-data">Clear All Logged Data</button>

        <div id="plan-content"></div>

    </div>

    <script>
    const plan = {
        "Week 1": {
            "Monday": {
                am: { title: "Full Body Strength (Lower Focus)", purpose: "To build foundational lower body strength. Goal is to complete all 5 sets of Tier 1 Sandbag Squats at the prescribed RPE without form breakdown.", cues: "On Sandbag Squats, keep your chest up and brace your core. Use the rest in the E3MOM to fully recover.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> AMRAP in 5 min: 10 Bodyweight Squats, 10 Glute Bridges, 5 Inchworms.</div><div class='workout-component'><strong>5:00-20:00 | Tier 1:</strong> E3MOM for 15 min (5 sets): 5 Sandbag Front Squats @ <strong>RPE 7-8</strong>.</div><div class='workout-component'><strong>20:00-35:00 | Tier 2:</strong> AMRAP in 15 min: 8 DB Bench Press (30s), 10 Single-Arm DB Rows (40/50lb) per side.</div><div class='workout-component'><strong>35:00-43:00 | Tier 3:</strong> EMOM for 8 min: Odd Mins: 3-5 Controlled Negative Pull-ups (5s descent). Even Mins: 30s Side Plank (alternating).</div><div class='workout-component'><strong>43:00-45:00 | Cool-down:</strong> 60s Kneeling Hip Flexor Stretch, 60s Pigeon Pose.</div>" },
                pm: { title: "Track Run", purpose: "To increase your lactate threshold. Goal is to keep all 6 intervals in HR Zone 4.", cues: "Focus on running 'tall'. Use the rest to walk and bring your heart rate down before the next interval.", workout: "<div class='workout-component'><strong>Mission:</strong> Threshold Intervals</div><div class='workout-component'><strong>Workout:</strong> 6 x 400m Repeats in <strong>HR Zone 4 (176-184 bpm)</strong>, with 90s rest between each.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1B: Lower Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Glute Bridges, 10 Fire Hydrants per side, 30s Deep Squat Hold.</div>"}
            },
            "Tuesday": {
                am: { title: "Body Armor", purpose: "To build 'chassis integrity' â€“ muscular endurance and core stability for carrying heavy loads. Goal is to complete as many rounds as possible with minimal breaks.", cues: "Keep the sandbag high on your chest during carries. This is a mental grind; focus on one rep at a time.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> AMRAP in 5 min: 30s Jump Rope, 10 Band Pull-Aparts, 20m Bear Crawl.</div><div class='workout-component'><strong>5:00-40:00 | Main Work:</strong> AMRAP in 35 min: 50m Sandbag Bear Hug Carry (75-100 lbs), 10 Sandbag Zercher Squats, 10 HRPU, 60s Plank Hold.</div><div class='workout-component'><strong>40:00-45:00 | Cool-down:</strong> 60s Child's Pose, 60s passive Dead Hang.</div>" },
                pm: { title: "Optional HIIT", purpose: "To rapidly improve anaerobic threshold and VO2 max. Goal is maximum effort on every sprint.", cues: "The 15s sprints should be all-out. Use the 45s recovery to actively slow your breathing.", workout: "<div class='workout-component'><strong>Assault Bike Option:</strong> EMOM for 20 min: Odd Mins: 15s MAX EFFORT sprint. Even Mins: 45s easy spin.</div><div class='workout-component'><strong>Rower Option:</strong> 8 RFT: 250m Row Sprint, Rest 60s.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1A: Upper Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Band Pull-Aparts, 10 Scapular Push-ups, 5 Thoracic Rotations per side.</div>"}
            },
            "Wednesday": {
                am: { title: "Full Body Strength (Upper Focus)", purpose: "To develop upper body pressing power and endurance. Goal is to complete all 10 sets of the complex without dropping weight.", cues: "Use an explosive leg drive on the push press. The rest minute is crucial. On Ring Rows, pause and squeeze at the top.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> 2 Rds: 30s Arm Circles, 10 Scapular Pulls, 5 Inchworms.</div><div class='workout-component'><strong>5:00-25:00 | Tier 1:</strong> EMOM for 20 min (10 rds): Min 1: 3 DB Push Press + 5 DB Bench Press (30s) @ <strong>RPE 8</strong>. Min 2: Rest.</div><div class='workout-component'><strong>25:00-40:00 | Tier 2:</strong> AMRAP in 15 min: 8 Sandbag Good Mornings, 40 Double-Unders.</div><div class='workout-component'><strong>40:00-45:00 | Tier 3:</strong> 3 Sets For Quality: 10-20s Active Hang Hold, Max Reps Ring Rows. Rest 60s.</div>" },
                pm: { title: "Track Run", purpose: "To improve aerobic efficiency at a moderately high intensity ('comfortably hard'). Goal is to stay within the prescribed HR zones.", cues: "The Zone 3 segment should be smooth and rhythmic, not a sprint. Monitor your HR closely at transitions.", workout: "<div class='workout-component'><strong>Mission:</strong> Tempo Run</div><div class='workout-component'><strong>Workout:</strong> 30 min total: 10 min <strong>HR Zone 2</strong>, 10 min <strong>HR Zone 3</strong>, 10 min <strong>HR Zone 2</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1C: Full Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 5 Inchworms, 10 Air Squats, 30s Dead Hang.</div>"}
            },
            "Thursday": {
                am: { title: "Active Recovery Ruck", purpose: "To build aerobic base and condition the body for load carriage without adding fatigue. Goal is to keep HR in Zone 2.", cues: "Focus on good posture: chest proud, shoulders back. Practice nasal breathing to stay in the proper HR zone.", workout: "<div class='workout-component'><strong>Mission:</strong> Endurance & Structural Adaptation</div><div class='workout-component'><strong>Workout:</strong> Ruck for 60 minutes with 35 lbs in <strong>HR Zone 2 (158-165 bpm)</strong>.</div>" },
                pm: { title: "Optional HIIT", purpose: "To challenge metabolic conditioning and the ability to work through fatigue. Goal is to minimize transition time.", cues: "This is a sprint. Pace the first round at 85-90%, then push. Focus on efficient movement.", workout: "<div class='workout-component'><strong>Assault Bike Option:</strong> 10 min AMRAP: 15 cal Bike, 10 Air Squats, 5 Burpees.</div><div class='workout-component'><strong>Rower Option:</strong> For Time: 1000m Row, Rest 3 min, 750m Row, Rest 2 min, 500m Row.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Ruck-specific Neck/Lats.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 12 DB Shrugs, 30s Neck Isometrics, 10 Ring Rows.</div>"}
            },
             "Friday": {
                am: { title: "Full Body Strength (Hinge Focus)", purpose: "To develop posterior chain strength and power. Goal for Tier 1 is perfect, safe deadlift form.", cues: "Initiate deadlifts by driving feet through the floor. In the 21-15-9, break up reps early to avoid redlining.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> EMOM for 5 min: 10 KB Swings, 10 Bird-Dogs.</div><div class='workout-component'><strong>5:00-20:00 | Tier 1:</strong> E2MOM for 15 min (7 sets): 5 Vitruvian Deadlifts @ <strong>RPE 8</strong>.</div><div class='workout-component'><strong>20:00-35:00 | Tier 2:</strong> For Time (15-min cap): 21-15-9 reps of: Alt. DB Snatches (40lb), Box Jumps (24\").</div><div class='workout-component'><strong>35:00-43:00 | Tier 3:</strong> AMRAP in 8 min: 3-5 Controlled Negative Pull-ups (5s), 10 V-Ups.</div><div class='workout-component'><strong>43:00-45:00 | Cool-down:</strong> 60s Seated Hamstring Stretch, 60s Child's Pose.</div>" },
                pm: { title: "Run", purpose: "Classic 'long slow distance' (LSD) run to improve aerobic endurance. Goal is to finish feeling steady, not exhausted.", cues: "Effort should be conversational. This is about time on your feet, not speed.", workout: "<div class='workout-component'><strong>Mission:</strong> Endurance</div><div class='workout-component'><strong>Workout:</strong> Run for 45 minutes in <strong>HR Zone 2 (158-165 bpm)</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1B: Lower Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Glute Bridges, 10 Fire Hydrants per side, 30s Deep Squat Hold.</div>"}
            }
        },
        "Week 2": {
            "Monday": {
                am: { title: "Full Body Strength (Upper Focus)", purpose: "To increase upper body strength and work capacity. The goal is to maintain RPE 8 across all 8 sets of the bench press.", cues: "For the DB Bench Press, drive your feet into the floor and keep shoulder blades pulled back and down.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> AMRAP 5 min: 10 Scapular Push-ups, 10 Banded External Rotations/side, 30s Jump Rope.</div><div class='workout-component'><strong>5:00-21:00 | Tier 1:</strong> E2MOM for 16 min (8 sets): 5 DB Bench Press @ <strong>RPE 8</strong>.</div><div class='workout-component'><strong>21:00-36:00 | Tier 2:</strong> AMRAP 15 min: 10 DB RDLs (30s), 10 Box Jumps (24\").</div><div class='workout-component'><strong>36:00-43:00 | Tier 3:</strong> 4 Sets For Quality: 3 Controlled Negative Pull-ups (5s) + 10s iso-hold at mid-range. Rest 60s.</div><div class='workout-component'><strong>43:00-45:00 | Cool-down:</strong> 60s Pec Stretch, 60s Lat Stretch.</div>" },
                pm: { title: "Track Run", purpose: "To progress the lactate threshold work by adding an interval. Goal is to maintain pace and form on the 7th interval.", cues: "Pacing should be consistent. Use your arms to drive your legs when fatigued.", workout: "<div class='workout-component'><strong>Mission:</strong> Threshold Intervals</div><div class='workout-component'><strong>Workout:</strong> 7 x 400m Repeats in <strong>HR Zone 4 (176-184 bpm)</strong>, with 90s rest.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1A: Upper Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Band Pull-Aparts, 10 Scapular Push-ups, 5 Thoracic Rotations per side.</div>"}
            },
            "Tuesday": {
                am: { title: "Body Armor", purpose: "To build grip strength, core stability, and mental toughness. Goal is to complete all 5 rounds, taking only the prescribed rest.", cues: "On the Farmer's Carry, stand tall, pack your shoulders, and take fast, choppy steps.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> 2 Rds: 10 KB Halos, 20m Farmer's Carry (light), 10 BW Good Mornings.</div><div class='workout-component'><strong>5:00-40:00 | Main Work:</strong> 5 RFT (35-min cap): 50m DB Farmer's Carry (heavy), 50m Sandbag Bear Hug Carry (75-100 lbs), 12 HRPU. <em>Rest 60s between rounds.</em></div><div class='workout-component'><strong>40:00-45:00 | Cool-down:</strong> 90s Spider-Man Lunge w/ Thoracic Rotation, 60s Wrist/Forearm Stretches.</div>" },
                pm: { title: "Optional HIIT", purpose: "A short, sharp anaerobic power test. Goal is to negative splitâ€”make the final set the fastest one.", cues: "First set of 30 calories should feel hard but controlled. Final set of 10 should be an all-out sprint.", workout: "<div class='workout-component'><strong>Assault Bike Option:</strong> For Time: 30-20-10 calories. Rest 2 minutes between sets.</div><div class='workout-component'><strong>Rower Option:</strong> EMOM for 18 min: Odd: 12-cal Row. Even: 12 Burpees.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1C: Full Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 5 Inchworms, 10 Air Squats, 30s Dead Hang.</div>"}
            },
            "Wednesday": {
                am: { title: "Full Body Strength (Hinge Focus)", purpose: "To develop power-endurance in the posterior chain. Goal is to complete 8+ rounds.", cues: "Prioritize a flat back on every Sandbag Deadlift. Step, don't jump, back on the burpees to conserve energy.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> AMRAP 5 min: 10 KB Swings, 10 Glute Bridges, 30s Jump Rope.</div><div class='workout-component'><strong>5:00-25:00 | Tier 1:</strong> AMRAP 20 min: 3 Heavy Sandbag Deadlifts @ <strong>RPE 8</strong>, 5 Burpees over the bag.</div><div class='workout-component'><strong>25:00-40:00 | Tier 2:</strong> AMRAP 15 min: 8 KB Goblet Squats (35lb), 10 Ring Rows.</div><div class='workout-component'><strong>40:00-45:00 | Tier 3:</strong> For Time: Accumulate 2 min in a Plank Hold. (Penalty for break: 5 V-Ups).</div>" },
                pm: { title: "Track Run", purpose: "To increase the duration of your aerobic base run. Goal is to maintain a steady Zone 2 heart rate for 35 minutes.", cues: "Settle into a rhythm early on. This is a 'forever pace'.", workout: "<div class='workout-component'><strong>Mission:</strong> Endurance</div><div class='workout-component'><strong>Workout:</strong> Run for 35 minutes in <strong>HR Zone 2 (158-165 bpm)</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1B: Lower Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Glute Bridges, 10 Fire Hydrants per side, 30s Deep Squat Hold.</div>"}
            },
            "Thursday": {
                am: { title: "Active Recovery Ruck", purpose: "To continue building rucking volume and endurance. Goal is a steady, uninterrupted 70 minutes in Zone 2.", cues: "Use this longer ruck to practice your nutrition and hydration strategy.", workout: "<div class='workout-component'><strong>Mission:</strong> Endurance & Structural Adaptation</div><div class='workout-component'><strong>Workout:</strong> Ruck for 70 minutes with 35 lbs in <strong>HR Zone 2</strong>.</div>" },
                pm: { title: "Optional HIIT", purpose: "Classic Tabata to maximize VO2 max improvement. Goal is to push as hard as possible during the 20s work intervals.", cues: "The 10s rest is just enough time to transition. The last two rounds should feel nearly impossible.", workout: "<div class='workout-component'><strong>Assault Bike Option:</strong> Tabata (8 rds of 20s on / 10s off). Alternate Max Calorie Sprint and Air Squats.</div><div class='workout-component'><strong>Rower Option:</strong> 5 RFT: 150m Row Sprint, 10 KB Swings.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Run Stability.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Single Leg Glute Bridges per side, 10 Banded Lateral Walks per side, 30s Single Leg Balance per side.</div>"}
            },
            "Friday": {
                am: { title: "Full Body Strength (Lower Focus)", purpose: "To build muscular endurance and mental toughness in the lower body. Goal is to finish the ladder under the 15-minute time cap.", cues: "Break up the early sets (10 and 9) if needed, but try to go unbroken on the later sets.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> 2 Rds: 20 Jumping Jacks, 10 Cossack Squats, 30s Deep Squat Hold.</div><div class='workout-component'><strong>5:00-20:00 | Tier 1:</strong> Ladder For Time (15-min cap): 10-9-8-7-6-5-4-3-2-1 reps of Sandbag Zercher Squats. (Penalty: 2 Box Jumps after each set).</div><div class='workout-component'><strong>20:00-35:00 | Tier 2:</strong> AMRAP 15 min: 8 Single-Arm DB Press/side (30/40lb), 10 Single-Arm DB Rows/side (50lb).</div><div class='workout-component'><strong>35:00-43:00 | Tier 3:</strong> EMOM for 8 min: Odd: 4 Controlled Negative Pull-ups (5s). Even: Max Reps Ring Rows in 30s.</div><div class='workout-component'><strong>43:00-45:00 | Cool-down:</strong> 60s Couch Stretch, 60s Pigeon Pose.</div>" },
                pm: { title: "Ruck", purpose: "To introduce intensity into your rucking, bridging the gap between endurance and test-day pace. Goal is to keep HR in upper Z2/low Z3.", cues: "This is not a stroll. Shorten your stride, increase your cadence, and use your arms aggressively.", workout: "<div class='workout-component'><strong>Mission:</strong> Endurance with Intensity</div><div class='workout-component'><strong>Workout:</strong> Ruck for 50 minutes with 35 lbs in <strong>upper Zone 2 / low Zone 3 (164-168 bpm)</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1B: Lower Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Glute Bridges, 10 Fire Hydrants per side, 30s Deep Squat Hold.</div>"}
            }
        },
        "Week 3": {
             "Monday": {
                am: { title: "Full Body Strength (Hinge Focus)", purpose: "To develop unilateral posterior chain strength and stability. Goal is perfect form on every rep of the RDLs.", cues: "For the Single Leg RDLs, keep a slight bend in your standing knee and hinge at the hip. Move slowly and control the weight.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> AMRAP 5 min: 10 KB Swings, 10 BW Good Mornings, 30s Butt Kicks.</div><div class='workout-component'><strong>5:00-21:00 | Tier 1:</strong> E2MOM for 16 min (8 sets): 8 DB RDLs per leg @ <strong>RPE 8</strong>. Alternate legs each round.</div><div class='workout-component'><strong>21:00-36:00 | Tier 2:</strong> 5 RFT (15-min cap): 8 DB Push Press (30s), 8 Box Jump Overs, 8 HRPU.</div><div class='workout-component'><strong>36:00-43:00 | Tier 3:</strong> 4 Sets For Quality: 4 Controlled Negative Pull-ups (5s) + 12s iso-hold at mid-range. Rest 60s.</div><div class='workout-component'><strong>43:00-45:00 | Cool-down:</strong> 60s Seated Hamstring Stretch, 60s Child's Pose.</div>" },
                pm: { title: "Track Run", purpose: "Significant progression in lactate threshold training by increasing reps and decreasing rest. Goal is to survive and hit your paces.", cues: "The shorter rest is the real challenge. Focus on deep, calming breaths the second you finish an interval. Do not sit down.", workout: "<div class='workout-component'><strong>Mission:</strong> Threshold Intervals</div><div class='workout-component'><strong>Workout:</strong> 8 x 400m Repeats in <strong>HR Zone 4</strong>, with 75s rest.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1B: Lower Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Glute Bridges, 10 Fire Hydrants per side, 30s Deep Squat Hold.</div>"}
            },
            "Tuesday": {
                am: { title: "Body Armor", purpose: "To target muscular endurance in key tactical movements under cardiovascular duress. Goal is to accumulate high reps on the max-rep stations.", cues: "On 'max reps' stations, find a steady pace you can maintain for the entire 45s, not a sprint and burnout.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> AMRAP 5 min: 10 Sandbag Rows, 10 Air Squats, 5 Walk-outs.</div><div class='workout-component'><strong>5:00-40:00 | Main Work:</strong> AMRAP 35 min: 50m Sandbag Carry (any style), Max Reps Ring Rows in 45s, 15 V-Ups, Max Reps HRPU in 45s.</div><div class='workout-component'><strong>40:00-45:00 | Cool-down:</strong> 90s Dead Hang (accumulated), 60s Prayer Stretch.</div>" },
                pm: { title: "Optional HIIT", purpose: "A test of grit and pacing, managing two different energy systems. Goal is to finish 100 calories as quickly as possible.", cues: "The penalty swings are designed to break your rhythm. Perform them with crisp, powerful hip snaps, then get right back on the bike.", workout: "<div class='workout-component'><strong>Assault Bike Option:</strong> Accumulate 100 calories for time. Every 2 min (starting at 0:00), perform 10 KB Swings.</div><div class='workout-component'><strong>Rower Option:</strong> 30s ON / 30s OFF for 20 minutes.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1C: Full Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 5 Inchworms, 10 Air Squats, 30s Dead Hang.</div>"}
            },
            "Wednesday": {
                am: { title: "Full Body Strength (Lower Focus)", purpose: "To develop high-level work capacity using a complex movement ladder. Goal is to complete the workout, maintaining clean reps on the Hang Cleans.", cues: "On the Sandbag Hang Clean, focus on an explosive hip extension ('jump') to get the bag weightless. Elevating feet on ring rows makes them significantly harder.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> 2 Rds: 10 Sandbag Good Mornings (light), 10 Bulgarian Split Squat Hops/side, 30s Pogo Hops.</div><div class='workout-component'><strong>5:00-25:00 | Tier 1:</strong> Ladder For Time (20-min cap): 10-8-6-4-2 reps of complex (1 Sandbag Hang Clean + 1 Sandbag Front Squat). Penalty: 10 Alt. DB Snatches after each set.</div><div class='workout-component'><strong>25:00-40:00 | Tier 2:</strong> AMRAP 15 min: 8 DB Floor Press (40/50lb), 10 Ring Rows (feet elevated).</div><div class='workout-component'><strong>40:00-45:00 | Tier 3:</strong> For Time: 50 Double-Unders, 25 HRPU, 50 Double-Unders.</div>" },
                pm: { title: "Track Run", purpose: "To push the duration of your aerobic base run to 40 minutes. Goal is to maintain a conversational pace and stay in Zone 2.", cues: "Use landmarks to break the run into smaller, manageable chunks. Stay relaxed.", workout: "<div class='workout-component'><strong>Mission:</strong> Endurance</div><div class='workout-component'><strong>Workout:</strong> Run for 40 minutes in <strong>HR Zone 2</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1A: Upper Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Band Pull-Aparts, 10 Scapular Push-ups, 5 Thoracic Rotations per side.</div>"}
            },
            "Thursday": {
                am: { title: "Active Recovery Ruck", purpose: "Longest ruck of the block, aimed at cementing aerobic and structural adaptations. Goal is an uninterrupted 75 minutes in Zone 2.", cues: "Check your feet post-ruck for any hotspots or blisters. Address them now.", workout: "<div class='workout-component'><strong>Mission:</strong> Endurance & Structural Adaptation</div><div class='workout-component'><strong>Workout:</strong> Ruck for 75 minutes with 35 lbs in <strong>HR Zone 2</strong>.</div>" },
                pm: { title: "Optional HIIT", purpose: "To build your ability to repeat efforts at a high intensity with incomplete rest. Goal is to hit the calorie targets each round.", cues: "This EMOM gets progressively harder. Pace the first minute so you have energy for the third minute.", workout: "<div class='workout-component'><strong>Assault Bike Option:</strong> EMOM for 16 min (4 Rds): Min 1: 10 cals, Min 2: 12 cals, Min 3: 15 cals, Min 4: REST.</div><div class='workout-component'><strong>Rower Option:</strong> For Time: 2000m Row, but every 500m, do 15 Air Squats.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Grip Strength.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: Max time Dead Hang. Rest 30s. Max time Farmer's Hold (heavy). Rest 90s.</div>"}
            },
            "Friday": {
                am: { title: "Full Body Strength (Upper Focus)", purpose: "To build explosive upper body power and stability in a single-arm format. Goal is to maintain integrity and speed across all 10 rounds.", cues: "For the Push Jerk, drive with your legs, then receive the DB with a locked-out arm in a slight squat.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> AMRAP 5 min: 5 Scapular Pull-ups, 5 Light DB Push Press/side (30lb), 30s Jump Rope.</div><div class='workout-component'><strong>5:00-25:00 | Tier 1:</strong> EMOM for 20 min (10 rds): Min 1: 1 DB Push Press + 2 DB Push Jerks per arm (30lb). Alt arms each round. Min 2: Rest.</div><div class='workout-component'><strong>25:00-40:00 | Tier 2:</strong> AMRAP 15 min: 10 DB Goblet Squats (50lb), 10 Sandbag Good Mornings.</div><div class='workout-component'><strong>40:00-45:00 | Tier 3:</strong> For Time: 30m Sandbag Bear Hug Carry, 20 Burpees, 30m Sandbag Bear Hug Carry.</div>" },
                pm: { title: "Run", purpose: "A true Fartlek ('speed play') to improve your ability to change gears based on feel. Goal is to listen to your body and have fun with the speed.", cues: "Ignore your watch. Pick landmarks (a tree, a lamppost) and vary your effort between them. Mix sprints, tempos, jogs, and walks.", workout: "<div class='workout-component'><strong>Mission:</strong> Fartlek Run (Speed Play)</div><div class='workout-component'><strong>Workout:</strong> 40 mins total: After a 5-min warm-up, spend 30 mins alternating between hard, moderate, and easy efforts. Finish with a 5-min cool-down.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Back Health.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Cat-Cows, 10 Bird-Dogs per side, 30s Child's Pose.</div>"}
            }
        },
        "Week 4 (Deload)": {
            "Monday": {
                am: { title: "Full Body Recovery", purpose: "Promote blood flow, facilitate recovery, and practice movement patterns without accumulating fatigue.", cues: "Move with intention. This is not a workout to push; it's a session to move and feel good.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> Light dynamic stretching.</div><div class='workout-component'><strong>5:00-40:00 | Main Work:</strong> 3 Rds For Quality: 8 DB Bench Press (30s), 10 Goblet Squats (35lb KB), 12 Ring Rows. Rest as needed.</div><div class='workout-component'><strong>40:00-45:00 | Cool-down:</strong> Full body foam roll.</div>" },
                pm: { title: "Run", purpose: "Easy recovery jog.", cues: "Keep it light and easy.", workout: "<div class='workout-component'><strong>Workout:</strong> 20-25 minutes in <strong>HR Zone 1 (<158 bpm)</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1C: Full Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 5 Inchworms, 10 Air Squats, 30s Dead Hang.</div>"}
            },
            "Tuesday": {
                am: { title: "Full Body Recovery", purpose: "Continued recovery and light movement.", cues: "On the pull-up skill work, focus only on the feeling of muscular engagement. Do not strain.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> Light dynamic stretching.</div><div class='workout-component'><strong>5:00-40:00 | Main Work:</strong> 3 Rds For Quality: 8 Sandbag Deadlifts (light), 8 DB Push Press (light), 10 Box Step-Ups (bodyweight). Pull-up Skill: 2 sets of 15s isometric holds.</div><div class='workout-component'><strong>40:00-45:00 | Cool-down:</strong> Full body stretching.</div>" },
                pm: { title: "Optional Recovery Cardio", purpose: "Optional light flush.", cues: "Keep HR low.", workout: "<div class='workout-component'><strong>Workout:</strong> Total Rest or 20 minutes on Bike/Rower in <strong>HR Zone 1</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1A: Upper Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Band Pull-Aparts, 10 Scapular Push-ups, 5 Thoracic Rotations per side.</div>"}
            },
            "Wednesday": {
                am: { title: "Full Body Recovery", purpose: "Low-intensity circuit to keep the body moving.", cues: "The pace should be conversational. Think of this AMRAP as a moving meditation.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> Light dynamic stretching.</div><div class='workout-component'><strong>5:00-40:00 | Main Work:</strong> AMRAP 30 min (easy pace): 50m Farmer's Carry (light), 10 KB Swings, 10 HRPU, 45s Plank.</div><div class='workout-component'><strong>40:00-45:00 | Cool-down:</strong> Full body stretching.</div>" },
                pm: { title: "Run", purpose: "Easy recovery jog.", cues: "Focus on relaxed breathing.", workout: "<div class='workout-component'><strong>Workout:</strong> 20 minutes in <strong>HR Zone 1-2</strong>.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1B: Lower Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Glute Bridges, 10 Fire Hydrants per side, 30s Deep Squat Hold.</div>"}
            },
            "Thursday": {
                am: { title: "Active Recovery Ruck", purpose: "A walk to flush the legs, not a workout.", cues: "Use a lighter pack than prescribed (25 lbs).", workout: "<div class='workout-component'><strong>Workout:</strong> Ruck for 45 minutes with 25 lbs. Keep HR in <strong>Zone 1</strong>.</div>" },
                pm: { title: "Optional: Total Rest", purpose: "Full recovery.", cues: "Rest is productive.", workout: "<div class='workout-component'><strong>Workout:</strong> Total Rest.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Back Health.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 10 Cat-Cows, 10 Bird-Dogs per side, 30s Child's Pose.</div>"}
            },
            "Friday": {
                am: { title: "Full Body Recovery", purpose: "Final recovery session to prepare for the next block.", cues: "End the week feeling good. Focus on perfect technique.", workout: "<div class='workout-component'><strong>0:00-5:00 | Warm-up:</strong> Light dynamic stretching.</div><div class='workout-component'><strong>5:00-40:00 | Main Work:</strong> 3 Rds For Quality: 8 Sandbag Front Squats (light), 10 DB Rows/side (light), 15 Band Pull-Aparts. Pull-up Skill: 2 sets of 5 scapular pulls + 10s active hang.</div><div class='workout-component'><strong>40:00-45:00 | Cool-down:</strong> Full body foam roll.</div>" },
                pm: { title: "Run or Ruck", purpose: "Light movement to finish the week.", cues: "Easy effort.", workout: "<div class='workout-component'><strong>Workout:</strong> 20-30 minute easy walk or light jog.</div>" },
                optional: { title: "Resilience Module", workout: "<div class='workout-component'><strong>Focus:</strong> Block 1C: Full Body Mobility & Activation.</div><div class='workout-component'><strong>Drill:</strong> 3 Rounds: 5 Inchworms, 10 Air Squats, 30s Dead Hang.</div>"}
            }
        }
    };

    document.addEventListener('DOMContentLoaded', function () {
        const planContainer = document.getElementById('plan-content');

        let fullHtml = '';
        Object.keys(plan).forEach((week, weekIndex) => {
            fullHtml += `<section class="week-section">`;
            fullHtml += `<h2 class="week-title">${week}</h2>`;
            Object.keys(plan[week]).forEach((day, dayIndex) => {
                const dayData = plan[week][day];
                const dayId = `day-${weekIndex + 1}-${dayIndex + 1}`;

                fullHtml += `<div class="day-container" id="${dayId}">`;
                fullHtml += `<div class="day-toggle">${day}</div>`;
                fullHtml += `<div class="day-content">`;
                
                if (dayData.am) {
                    fullHtml += `<div class="session am"><h4 class="session-title am">AM: ${dayData.am.title}</h4><h5>Purpose & Goal:</h5><p>${dayData.am.purpose}</p><h5>Cues & Tips:</h5><p>${dayData.am.cues}</p>${dayData.am.workout}<div class="log-section"><label for="log-${dayId}-am">Log AM Results:</label><textarea class="log-input" id="log-${dayId}-am" rows="3"></textarea></div></div>`;
                }

                if (dayData.pm) {
                    fullHtml += `<div class="session pm"><h4 class="session-title pm">PM: ${dayData.pm.title}</h4><h5>Purpose & Goal:</h5><p>${dayData.pm.purpose}</p><h5>Cues & Tips:</h5><p>${dayData.pm.cues}</p>${dayData.pm.workout}<div class="log-section"><label for="log-${dayId}-pm">Log PM Results:</label><textarea class="log-input" id="log-${dayId}-pm" rows="3"></textarea></div></div>`;
                }
                
                if (dayData.optional) {
                    fullHtml += `<div class="session opt"><h4 class="session-title opt">Optional: ${dayData.optional.title}</h4>${dayData.optional.workout}<div class="log-section"><label for="log-${dayId}-opt">Log Optional Module Results:</label><textarea class="log-input" id="log-${dayId}-opt" rows="2"></textarea></div></div>`;
                }
                
                fullHtml += `</div></div>`;
            });
            fullHtml += `</section>`;
        });
        planContainer.innerHTML = fullHtml;

        const dayToggles = document.querySelectorAll('.day-toggle');
        dayToggles.forEach(toggle => {
            toggle.addEventListener('click', () => {
                const dayContainer = toggle.parentElement;
                dayContainer.classList.toggle('active');
                const content = toggle.nextElementSibling;
                if (dayContainer.classList.contains('active')) {
                    content.style.maxHeight = content.scrollHeight + "px";
                } else {
                    content.style.maxHeight = '0';
                }
            });
        });

        const firstDay = document.querySelector('.day-container');
        if (firstDay) {
            firstDay.classList.add('active');
            const firstContent = firstDay.querySelector('.day-content');
            setTimeout(() => { firstContent.style.maxHeight = firstContent.scrollHeight + "px"; }, 100);
        }

        const logInputs = document.querySelectorAll('.log-input');
        
        logInputs.forEach(input => {
            const storedValue = localStorage.getItem(input.id);
            if (storedValue) { input.value = storedValue; }
        });

        logInputs.forEach(input => {
            input.addEventListener('input', () => {
                localStorage.setItem(input.id, input.value);
            });
        });

        const clearButton = document.getElementById('clear-all-data');
        clearButton.addEventListener('click', () => {
            if (confirm('Are you sure you want to delete all logged data? This cannot be undone.')) {
                localStorage.clear();
                logInputs.forEach(input => input.value = '');
                alert('All logged data has been cleared.');
            }
        });
    });
    </script>
</body>
</html>